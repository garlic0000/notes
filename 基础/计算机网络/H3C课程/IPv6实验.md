## IPv6实验

### 实验拓扑

![ipv6-1](/home/garlic/Desktop/笔记/图片/ipv6-1.PNG)

### 实验需求

1. 在R1和PC3上开启IPv6链路本地地址自动生成，测试是否能够使用链路本地地址互通
2. 为R1配置全球单播地址2001::1/64，使PC3能够自动生成与R1同一网段的IPv6地址
3. 测试R1和PC3是否能够使用全球单播地址互通

------

### 实验解法

1. **在R1和PC3上开启IPv6链路本地地址自动生成，测试是否能够使用链路本地地址互通**

   　　*分析：路由器需要手动开启链路本地地址自动生成，该功能PC默认会开启。但由于这里使用路由器来模拟PC3，所以PC上也需要开启*

   *步骤1：在R1的g0/0接口上开启IPv6链路本地地址自动生成*

   ![ipv6-2](/home/garlic/Desktop/笔记/图片/ipv6-2.PNG)

   *步骤2：在R1上查看g0/0接口的IPv6信息，发现已经生成了前缀为`FE80`的IPv6地址，该地址属于链路本地地址*

   ![ipv6-3](/home/garlic/Desktop/笔记/图片/ipv6-3.PNG)

   *步骤3：PC3上开启IPv6链路本地地址自动生成和查看地址命令和R1一致*

   ![ipv6-4](/home/garlic/Desktop/笔记/图片/ipv6-4.PNG)

   ![ipv6-5](/home/garlic/Desktop/笔记/图片/ipv6-5.PNG)

   *步骤4：在PC3上Ping R1的IPv6链路本地地址，发现可以Ping通*

   　　*注意：在路由器上Ping ipv6链路本地地址，需要指定出接口*

   ![ipv6-6](/home/garlic/Desktop/笔记/图片/ipv6-6.PNG)

2. **为R1配置全球单播地址2001::1/64，使PC3能够自动生成与R1同一网段的IPv6地址**

   　　*分析：IPv6全球单播地址的自动生成不需要依靠DHCP服务，只需要网段内的路由器具有全球单播地址，并且解除RA消息抑制即可*

   *步骤1：在R1的g0/0接口上配置IPv6全球单播地址`2001::/64`，并解除RA消息抑制*

   ![ipv6-7](/home/garlic/Desktop/笔记/图片/ipv6-7.PNG)

   *步骤2：在PC3上查看结果*

   ![ipv6-8](/home/garlic/Desktop/笔记/图片/ipv6-8.PNG)

   　　*分析：PC3上已经自动生成了`2001::/64`网段的IPv6全球单播地址，而且链路本地地址也继续存在，用于网段内部通讯*
   　　

3. **测试R1和PC3是否能够使用全球单播地址互通**

   *步骤1：在PC3上Ping R1的IPv6全球单播地址，发现可以Ping通*

   ![ipv6-9](/home/garlic/Desktop/笔记/图片/ipv6-9.PNG)